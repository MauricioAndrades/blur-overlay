<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>jQuery Blur Overlay</title>
    <link rel="stylesheet" href="https://cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/css/bootstrap.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/zenburn.min.css">
    <style>
      body {
        padding: 20px 10px;
      }
      img {
        box-shadow: 3px 3px 6px #333;
      }
      .center {
        text-align: center;
      }
      pre, code {
        text-align: left;
      }
      #overlay {
        padding: 60px 10px;
      }
    </style>
  </head>
  <body>
    <div id="content" class="container">
      <div class="jumbotron jumbotron-fluid center">
        <div class="container">
          <h1 class="display-3">Blur Overlay</h1>
          <p class="lead">A jQuery plugin for displaying a full-screen overlay over blurred body content</p>
          <p class="lead"><button type="button" id="showOverlayButton" class="btn btn-primary btn-lg">See it in action!</button></p>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <h2>Installation</h2>
        </div>
        <!-- <div class="col-sm-6">
          <p>Grab it from a package manager:
          <ul>
            <li><strong>npm:</strong> <code>npm install --save blur-overlay</code></li>
            <li><strong>Bower:</strong> <code>bower install --save blur-overlay</code></li>
          </ul>
        </div> -->
        <div class="col-sm-12">
          <p>For now, just grab the source:</p>
          <ul>
            <li><a href="https://raw.githubusercontent.com/bencentra/blur-overlay/master/dist/blur-overlay.js">Development</a> (unminified, ~5kb)</li>
            <li><a href="https://raw.githubusercontent.com/bencentra/blur-overlay/master/dist/blur-overlay.min.js">Production</a> (minified, ~3kb)</li>
          </ul>
        </div>
        <div class="col-sm-12">
          <p>Relies on jQuery (<code>&gt;=2.2.4</code>) and jQuery UI (<code>&gt;=1.12.0</code>).</p>
        </div>
        <div class="col-sm-12">
          <br>
          <h2>Example</h2>
          <pre class="mask-me"><code class="javascript">
  $(document).on('ready', function () {

    // Grab the element you want to "wrap" with blur
    var $target = $('#something');

    // Grab the content you want to display in the overlay
    var $overlay = $('#overlay').detach().show();

    // Initialize the overlay
    $target.blurOverlay({
      // Overlay content
      content: $overlay,
      // Background color of the overlay (use rgba for opacity)
      backgroundColor: 'rgba(255, 255, 255, .25)',
      // Blur amount (default 12px)
      blurAmount: '10px',
      // Duration of CSS transitions
      transitionDuration: '500ms',
      // Type of CSS transitions
      transitionType: 'cubic-bezier(.22, .57, .27, .92)'
    });

    // Show the overlay
    $target.blurOverlay('show').then(function () {
      console.log('overlay is showing');
    });

    // Hide the overlay
    $target.blurOverlay('hide').then(function () {
      console.log('overlay is hidden');
    });

    // Update the content of the overlay
    $target.blurOverlay('content', '&lt;p&gt;New Content&lt;/p&gt;');

    // Determine if the overlay is showing (true or false)
    console.log('Overlay is showing: ' + $target.blurOverlay('isShowing'));

    // Listen for events on the overlay
    $target.on('blurOverlay.beforeShow', function () {
      console.log('beforeShow event');
    });
    $target.on('blurOverlay.show', function () {
      console.log('show event');
    });
    $target.on('blurOverlay.beforeHide', function () {
      console.log('beforeHide event');
    });
    $target.on('blurOverlay.hide', function () {
      console.log('hide event');
    });

    // Destroy the plugin instance and clean up the DOM
    $target.blurOverlay('destroy');

  });
          </code></pre>
        </div>
      </div>
    </div>
    <div id="overlay" class="container center" style="display:none;">
      <div class="row">
        <div class="col-sm-12">
          <h1>This is the overlay!</h1>
          <br>
          <p>The background is so blurry, it's great!</p>
          <p>Lorem ipsum dolor sit amet and the rest.</p>
          <br>
          <button type="button" id="hideOverlayButton" class="btn btn-secondary btn-lg">Hide the overlay</button>
        </div>
      </div>
    </div>
    <script src="vendor/jquery-2.2.4.min.js"></script>
    <script src="vendor/jquery-ui-1.12.0.min.js"></script>
    <!-- <script src="https://cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/js/bootstrap.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/highlight.min.js"></script>
    <script src="dist/blur-overlay.js"></script>
    <script>

      hljs.initHighlightingOnLoad();

      $(document).on('ready', function() {

        var $content, $overlay, $showButton, $hideButton;

        // Grab overlay content from the DOM and initialize the overlay
        $overlay = $('#overlay').detach().show();
        $hideButton = $overlay.find('#hideOverlayButton');
        $hideButton.on('click', function () {
          $content.blurOverlay('hide').then(function () {
            console.log('hide deferred resolved!');
          });
        });
        $overlay.append($hideButton);
        $content = $('#content');
        $content.blurOverlay({
          content: $overlay,
          backgroundColor: 'rgba(255, 255, 255, .25)',
          masks: [$('.mask-me')],
          maskColor: 'rgba(255, 255, 255, 0.5)'
        });
        $showButton = $('#showOverlayButton');
        $showButton.on('click', function () {
          $content.blurOverlay('show').then(function () {
            console.log('show deferred resolved!');
          });
        });

        // Event listeners
        $content.on('blurOverlay.beforeShow', function() {
          console.log('beforeShow event');
        });
        $content.on('blurOverlay.show', function() {
          console.log('show event');
        });
        $content.on('blurOverlay.beforeHide', function() {
          console.log('beforeHide event');
        });
        $content.on('blurOverlay.hide', function() {
          console.log('hide event');
        });

      });

    </script>
  </body>
</html>
